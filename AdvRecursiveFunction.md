# #3. 거듭제곱구하기L

> ## 문제
>
> n과 m이 주어질 때, n의 m승을 구하는 프로그램을 작성하시오. 단, n의 m승의 값이 커질 수 있기 때문에, 정답을 10,007 으로 나눈 나머지를 출력한다.
>
> ### 입력
>
> ---
>
> //첫 번째 줄에 숫자 n과 m이 주어진다. ( 1 ≤ n ≤ 100, 1 ≤ m ≤ 1,000,000,000,000,000,000 )
>
> 
>
> ### 출력
>
> ---
>
> 첫째 줄에 n의 m승을 10,007 으로 나눈 나머지를 출력한다.
>
> ## 예제 입력
>
> 3 4
>
> ## 예제 출력
>
> 81

**소요시간: 60분**

**알고리즘:**

1. 우선 나머지에 관한 특징이다. n를 제곱하여  m으로 나눈 나머지는 n의나머지를 제곱하여 m으로 나눈 나머지와 같다. 이를 이용해 n을 제곱해나갈 필요없이 나머지를 계속 제곱해나가면 된다.
2. m의 최대값은 1,000,000,000,000,000,000이다. 그냥 반복할 시 무조건 Timeout이다. 이 때 생각할 수 있는건 O(log)를 만드는 것이고 이는 제곱을 이용할 것이다.
3. 따라서 ((n^2)^2)^2 이런식으로 반복해나갈 것이다.
4. 하지만 끝으로 갈수록  제곱간의 거리가 멀어진다. ex) 1024 ~ 2048 m이 이 중간에 위치할 경우 처리하기 애매하다.
5. 따라서 곱해주는 대신 나눠줄 것이다.  승수인 m을   (((m)/2)/2)/2 해날 것이다. 하지만 홀수 인 경우 나머지가 발생하는 문제가 생긴다. 이를 해결하기 위해
   - 짝수 m/2
   - 홀수 m-1

6. 기저조건은 m=1일 때 n이 반환되면 된다.

***핵심***

***O(log)를 만들기 위해 제곱으로 반복하는 Recursive***

***제곱으로 올라가는 것이 아닌 제곱으로 내려오기***

``` c++
#include <iostream>
using namespace std;

int n;
long int m;

//x(승수)가 짝수 일 때 x/2로 내려가고 홀수일 때 x-1로 내려가며 해당 승수의 나머지값을 반환하는 함수
//기저조건: x==1일 때의 나머지는 n자체
long int Recursive(long int x){
    if(x==1)
        return n;
    
    
    if(x%2==0){
        long int y = Recursive(x/2);
        return (y*y)%10007;
    }
  
    else{
        long int y = Recursive(x-1);
        return (y*n)%10007;
    }
    
    
}
int main(){
    cin>>n>>m;
    cout<<Recursive(m);
}

```







